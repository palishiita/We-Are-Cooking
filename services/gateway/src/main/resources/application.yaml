spring.application.name: gateway
server.port: 8000

management:
  endpoint.gateway.enabled: true
  endpoints.web.exposure.include: gateway

spring:
  security.oauth2:
    client:
      provider.techstructure-keycloak:
        issuer-uri: "http://login.techstructure.com:8080/realms/Techstructure"
      registration.techstructure-keycloak:
        redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
        client-id: wearecooking-gateway
        client-secret: ZzSeT4V53qCIITa16u4ssPOuUtYGkJNW
        provider: techstructure-keycloak
        authorization-grant-type: authorization_code
        scope: openid,profile,email
  cloud:
    gateway:
      routes:
        - id: frontend
          uri: "http://wrc-frontend:80"
          predicates:
            - Path=/
        - id: test
          uri: "http://localhost:8030"
          predicates:
            - Path=/api/test/**
        #          filters:
        #            - AuthFilter
        - id: userinfo
          uri: "http://localhost:8032"
          predicates:
            - Path=/api/profile/**

        - id: recipes
          uri: "http://wrc-recipesapi:8080"
          predicates:
            - Path=/api/recipesapi/**
        - id: reels
          uri: "http://wrc-reels:7001"
          predicates:
            - Path=/api/reels/**